# apps/dataflow/news_pipeline/keywords.py
"""
뉴스 필터링을 위한 키워드 및 스코어링 정책 (취준생 맞춤)
[정책 목표]
- Tier 1 (채용/인사)과 Tier 2 (문화/복지) 기사에 압도적인 가중치를 부여한다.
- Tier 3 (성장/실적)은 회사의 안정성을 판단하는 '보조 지표'로만 활용한다.
- Tier 5 (리스크) 키워드에 페널티를 부여하여 취준생에게 부정적인 뉴스를 제외한다.
"""
# 1. [Tier 1: 채용/인사] (가장 높은 가중치)
# - 취준생에게 가장 직접적인 정보.
HIRING_KEYWORDS = {
    # (핵심)
    "채용": 20, "공채": 20, "대규모 채용": 20, "인재 영입": 20, "채용 연계형": 18,
    "신입": 15, "경력": 15, "인재상": 15, "캠퍼스 리크루팅": 15, "채용설명회": 15,
    # (보조)
    "인턴": 12, "임원 인사": 8, "승진 인사": 8, "정기 인사": 8, "조직개편": 5, "사업부 재편": 5
}

# 2. [Tier 2: 문화/복지/환경] (두 번째 높은 가중치)
# - 취준생이 입사 결정 시 중요하게 고려하는 '근무 환경' 및 '보상'
CULTURE_KEYWORDS = {
    # (핵심)
    "워라밸": 12, "기업문화": 10, "사내 문화": 10, "조직 문화": 10, "복지": 10, "복리후생": 10,
    "연봉": 10, "연봉 인상": 10, "스톡옵션": 10, "보상": 10, "근무환경": 8, "유연근무": 8,
    # (보조)
    "재택근무": 5, "자율출퇴근": 5, "사내 복지": 5, "일하기 좋은 기업": 8, "수상": 3,
    "ESG": 2, "지속가능경영": 2, "사회공헌": 1, "환경보호": 2, "기부": 1, "봉사활동": 1
}

# 3. [Tier 3: 성장/실적] (보조 지표)
# - 회사의 '안정성'과 '비전'을 보여주는 보조 지표.
GROWTH_KEYWORDS = {
    "역대 최대": 8, "어닝 서프라이즈": 8, "실적": 8, "분기 실적": 8, "연간 실적": 8,
    "매출": 5, "영업이익": 5, "순이익": 5, "흑자": 5,
    "M&A": 5, "인수": 5, "지분 인수": 5, "수주": 5, "공급 계약": 5, "계약 체결": 5,
    "투자": 5, "전략적 투자": 5, "신사업": 5, "공장 증설": 5, "신공장": 5, "진출": 3
}

# 4. [Tier 4: 기술/비전] (낮은 가중치)
# - R&D나 기술 관련 정보.
TECH_KEYWORDS = {
    "세계 최초": 5, "업계 최초": 5, "신기술": 4, "R&D": 4, "개발 성공": 4, "상용화": 4,
    "원천 기술": 4, "국산화": 3, "개발": 3, "AI": 2, "클라우드": 2, "자율주행": 2,
    "반도체": 2, "배터리": 2, "딥러닝": 2, "특허": 2, "출시": 1, "공개": 1,
    "MOU": 1, "기술협력": 1, "기술 제휴": 1, "파트너십": 1, "시연": 1
}

# 5. [Tier 5: 경영/리스크] (페널티)
# - 취준생에게 부정적인 시그널.
OVERSIGHT_KEYWORDS = {
    # (치명적 페널티)
    "구조조정": -10, "희망퇴직": -10, "경영난": -10, "파업": -10,
    "적자": -5, "적자 전환": -5,
    # (중립/약한 페널티)
    "매각": 2, "사업 철수": 2, "소송": 1, "과징금": 1, "압수수색": 1, "조사": 1,
    "공정위": 1, "금감원": 1, "논란": 1, "사건사고": 1
}

# 6. [Tier 6: 완전 무관] (즉시 탈락)
# - 주식 리포트, 가십 등
IRRELEVANT_KEYWORDS = {
    # 스포츠/연예/가십
    "스포츠": -999, "후원": -999, "연예인": -999, "광고모델": -999,
    "열애": -999, "결혼": -999, "부고": -999, "드라마": -999, "영화": -999,
    # 주식 리포트/시황 (매우 중요)
    "증시": -999, "시황": -999, "주가": -999, "전망": -999, "목표주가": -999,
    "애널리스트": -999, "투자의견": -999, "매수": -999, "매도": -999, "중립": -999,
    "리포트": -999, "컨센서스": -999, "코스피": -999, "코스닥": -999,
    # 기타 무관
    "날씨": -999, "맛집": -999, "여행": -999, "화제": -999, "오늘의 운세": -999
}

# --- 모든 키워드 통합 및 임계값 설정 ---
ALL_KEYWORDS = {
    **HIRING_KEYWORDS,
    **CULTURE_KEYWORDS,
    **GROWTH_KEYWORDS,
    **TECH_KEYWORDS,
    **OVERSIGHT_KEYWORDS,
    **IRRELEVANT_KEYWORDS
}

# Tier 1(채용) 또는 Tier 2(문화/복지)가 비중 있게 다뤄진 기사만 통과시키기 위해
# 임계값을 18점으로 상향 조정
PASS_THRESHOLD = 18